{"ast":null,"code":"var _jsxFileName = \"/Users/fhy/project/gasmorph/frontend/src/components/GasSessionManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getSessionStatus, startGasSession } from '../utils/erc4337';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GasSessionManager = ({\n  userAddress,\n  provider,\n  signer\n}) => {\n  _s();\n  const [sessionStatus, setSessionStatus] = useState(null);\n  const [remainingTime, setRemainingTime] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // 检查 Session 状态\n  const checkSessionStatus = async () => {\n    try {\n      const status = await getSessionStatus(userAddress);\n      setSessionStatus(status);\n    } catch (error) {\n      console.error('检查 Session 状态失败:', error);\n    }\n  };\n\n  // 开启 Gas Session\n  const handleStartSession = async () => {\n    if (!signer) {\n      setError('需要签名者权限来开启 Session');\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const tx = await startGasSession(userAddress, 120, signer); // 2 分钟\n      await tx.wait();\n      setSuccess('Gas Session 已开启！您现在有 2 分钟的免费 Gas 体验。');\n\n      // 重新检查状态\n      await checkSessionStatus();\n    } catch (error) {\n      console.error('开启 Session 失败:', error);\n      setError(error.message || '开启 Session 失败');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 计算剩余时间\n  const calculateRemainingTime = () => {\n    if (!sessionStatus || !sessionStatus.isActive) {\n      setRemainingTime('');\n      return;\n    }\n    const now = Math.floor(Date.now() / 1000);\n    const remaining = sessionStatus.expiryTime - now;\n    if (remaining <= 0) {\n      setRemainingTime('已过期');\n      setSessionStatus({\n        ...sessionStatus,\n        isActive: false\n      });\n      return;\n    }\n    const minutes = Math.floor(remaining / 60);\n    const seconds = remaining % 60;\n    setRemainingTime(`${minutes}:${seconds.toString().padStart(2, '0')}`);\n  };\n\n  // 定期更新剩余时间\n  useEffect(() => {\n    if (sessionStatus !== null && sessionStatus !== void 0 && sessionStatus.isActive) {\n      calculateRemainingTime();\n      const interval = setInterval(calculateRemainingTime, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [sessionStatus]);\n\n  // 初始检查状态\n  useEffect(() => {\n    checkSessionStatus();\n  }, [userAddress]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gas-session-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u23F0 Gas Session \\u7BA1\\u7406\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-status\",\n        children: sessionStatus !== null && sessionStatus !== void 0 && sessionStatus.isActive ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status active\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-dot active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Session \\u6D3B\\u8DC3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status inactive\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-dot inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Session \\u672A\\u6FC0\\u6D3B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), (sessionStatus === null || sessionStatus === void 0 ? void 0 : sessionStatus.isActive) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remaining-time\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u5269\\u4F59\\u65F6\\u95F4:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time\",\n          children: remainingTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"expiry-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u8FC7\\u671F\\u65F6\\u95F4:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time\",\n          children: new Date(sessionStatus.expiryTime * 1000).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-actions\",\n      children: !(sessionStatus !== null && sessionStatus !== void 0 && sessionStatus.isActive) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStartSession,\n        disabled: isLoading || !signer,\n        className: \"start-session-btn\",\n        children: isLoading ? '开启中...' : '开启 2 分钟免 Gas 体验'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-active-message\",\n        children: \"\\uD83C\\uDF89 \\u60A8\\u7684 Gas Session \\u6B63\\u5728\\u8FD0\\u884C\\u4E2D\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [\"\\u2705 \", success]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-description\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Gas Session \\u662F\\u4EC0\\u4E48\\uFF1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 44\n        }, this), \"Gas Session \\u662F GasMorph \\u63D0\\u4F9B\\u7684\\u9650\\u65F6\\u514D\\u8D39 Gas \\u4F53\\u9A8C\\u529F\\u80FD\\u3002 \\u5728 Session \\u671F\\u95F4\\uFF0C\\u60A8\\u7684\\u6240\\u6709\\u4EA4\\u6613\\u90FD\\u5C06\\u7531 GasMorph \\u8D5E\\u52A9 Gas \\u8D39\\u7528\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .gas-session-manager {\n          padding: 24px;\n          border-radius: 16px;\n          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n          color: white;\n          margin-bottom: 20px;\n        }\n\n        .session-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .session-header h3 {\n          margin: 0;\n          font-size: 20px;\n          font-weight: 700;\n        }\n\n        .session-status {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .status {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 14px;\n          font-weight: 600;\n        }\n\n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-dot.active {\n          background-color: #4ade80;\n          box-shadow: 0 0 6px rgba(74, 222, 128, 0.6);\n        }\n\n        .status-dot.inactive {\n          background-color: #f87171;\n          box-shadow: 0 0 6px rgba(248, 113, 113, 0.6);\n        }\n\n        .session-info {\n          background: rgba(255, 255, 255, 0.1);\n          padding: 16px;\n          border-radius: 12px;\n          margin-bottom: 20px;\n        }\n\n        .remaining-time, .expiry-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .remaining-time:last-child, .expiry-info:last-child {\n          margin-bottom: 0;\n        }\n\n        .label {\n          font-weight: 600;\n          font-size: 14px;\n        }\n\n        .time {\n          font-family: 'Courier New', monospace;\n          font-weight: 700;\n          font-size: 16px;\n          color: #fbbf24;\n        }\n\n        .session-actions {\n          margin-bottom: 20px;\n        }\n\n        .start-session-btn {\n          width: 100%;\n          padding: 12px 24px;\n          background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);\n          color: white;\n          border: none;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 700;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n\n        .start-session-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(74, 222, 128, 0.3);\n        }\n\n        .start-session-btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .session-active-message {\n          text-align: center;\n          padding: 16px;\n          background: rgba(74, 222, 128, 0.2);\n          border: 2px solid rgba(74, 222, 128, 0.3);\n          border-radius: 12px;\n          font-weight: 700;\n          font-size: 16px;\n        }\n\n        .error-message, .success-message {\n          padding: 12px 16px;\n          border-radius: 8px;\n          margin-bottom: 16px;\n          font-weight: 600;\n        }\n\n        .error-message {\n          background: rgba(248, 113, 113, 0.2);\n          border: 1px solid rgba(248, 113, 113, 0.3);\n          color: #fecaca;\n        }\n\n        .success-message {\n          background: rgba(74, 222, 128, 0.2);\n          border: 1px solid rgba(74, 222, 128, 0.3);\n          color: #dcfce7;\n        }\n\n        .session-description {\n          background: rgba(255, 255, 255, 0.1);\n          padding: 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          line-height: 1.6;\n        }\n\n        .session-description p {\n          margin: 0;\n        }\n\n        .session-description strong {\n          color: #fbbf24;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(GasSessionManager, \"dVZM/0uHOoCUE6NzDuiv0ERfK0w=\");\n_c = GasSessionManager;\nexport default GasSessionManager;\nvar _c;\n$RefreshReg$(_c, \"GasSessionManager\");","map":{"version":3,"names":["React","useState","useEffect","getSessionStatus","startGasSession","jsxDEV","_jsxDEV","GasSessionManager","userAddress","provider","signer","_s","sessionStatus","setSessionStatus","remainingTime","setRemainingTime","isLoading","setIsLoading","error","setError","success","setSuccess","checkSessionStatus","status","console","handleStartSession","tx","wait","message","calculateRemainingTime","isActive","now","Math","floor","Date","remaining","expiryTime","minutes","seconds","toString","padStart","interval","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","onClick","disabled","jsx","_c","$RefreshReg$"],"sources":["/Users/fhy/project/gasmorph/frontend/src/components/GasSessionManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { getSessionStatus, startGasSession } from '../utils/erc4337';\n\ninterface GasSessionManagerProps {\n  userAddress: string;\n  provider: ethers.BrowserProvider;\n  signer?: ethers.Signer;\n}\n\nconst GasSessionManager: React.FC<GasSessionManagerProps> = ({\n  userAddress,\n  provider,\n  signer\n}) => {\n  const [sessionStatus, setSessionStatus] = useState<{\n    isActive: boolean;\n    expiryTime: number;\n  } | null>(null);\n  const [remainingTime, setRemainingTime] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [success, setSuccess] = useState<string>('');\n\n  // 检查 Session 状态\n  const checkSessionStatus = async () => {\n    try {\n      const status = await getSessionStatus(userAddress);\n      setSessionStatus(status);\n    } catch (error) {\n      console.error('检查 Session 状态失败:', error);\n    }\n  };\n\n  // 开启 Gas Session\n  const handleStartSession = async () => {\n    if (!signer) {\n      setError('需要签名者权限来开启 Session');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const tx = await startGasSession(userAddress, 120, signer); // 2 分钟\n      await tx.wait();\n      \n      setSuccess('Gas Session 已开启！您现在有 2 分钟的免费 Gas 体验。');\n      \n      // 重新检查状态\n      await checkSessionStatus();\n    } catch (error: any) {\n      console.error('开启 Session 失败:', error);\n      setError(error.message || '开启 Session 失败');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 计算剩余时间\n  const calculateRemainingTime = () => {\n    if (!sessionStatus || !sessionStatus.isActive) {\n      setRemainingTime('');\n      return;\n    }\n\n    const now = Math.floor(Date.now() / 1000);\n    const remaining = sessionStatus.expiryTime - now;\n\n    if (remaining <= 0) {\n      setRemainingTime('已过期');\n      setSessionStatus({ ...sessionStatus, isActive: false });\n      return;\n    }\n\n    const minutes = Math.floor(remaining / 60);\n    const seconds = remaining % 60;\n    setRemainingTime(`${minutes}:${seconds.toString().padStart(2, '0')}`);\n  };\n\n  // 定期更新剩余时间\n  useEffect(() => {\n    if (sessionStatus?.isActive) {\n      calculateRemainingTime();\n      const interval = setInterval(calculateRemainingTime, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [sessionStatus]);\n\n  // 初始检查状态\n  useEffect(() => {\n    checkSessionStatus();\n  }, [userAddress]);\n\n  return (\n    <div className=\"gas-session-manager\">\n      <div className=\"session-header\">\n        <h3>⏰ Gas Session 管理</h3>\n        <div className=\"session-status\">\n          {sessionStatus?.isActive ? (\n            <div className=\"status active\">\n              <div className=\"status-dot active\"></div>\n              <span>Session 活跃</span>\n            </div>\n          ) : (\n            <div className=\"status inactive\">\n              <div className=\"status-dot inactive\"></div>\n              <span>Session 未激活</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {sessionStatus?.isActive && (\n        <div className=\"session-info\">\n          <div className=\"remaining-time\">\n            <span className=\"label\">剩余时间:</span>\n            <span className=\"time\">{remainingTime}</span>\n          </div>\n          <div className=\"expiry-info\">\n            <span className=\"label\">过期时间:</span>\n            <span className=\"time\">\n              {new Date(sessionStatus.expiryTime * 1000).toLocaleString()}\n            </span>\n          </div>\n        </div>\n      )}\n\n      <div className=\"session-actions\">\n        {!sessionStatus?.isActive ? (\n          <button\n            onClick={handleStartSession}\n            disabled={isLoading || !signer}\n            className=\"start-session-btn\"\n          >\n            {isLoading ? '开启中...' : '开启 2 分钟免 Gas 体验'}\n          </button>\n        ) : (\n          <div className=\"session-active-message\">\n            🎉 您的 Gas Session 正在运行中！\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          ❌ {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"success-message\">\n          ✅ {success}\n        </div>\n      )}\n\n      <div className=\"session-description\">\n        <p>\n          <strong>Gas Session 是什么？</strong><br/>\n          Gas Session 是 GasMorph 提供的限时免费 Gas 体验功能。\n          在 Session 期间，您的所有交易都将由 GasMorph 赞助 Gas 费用。\n        </p>\n      </div>\n\n      <style jsx>{`\n        .gas-session-manager {\n          padding: 24px;\n          border-radius: 16px;\n          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n          color: white;\n          margin-bottom: 20px;\n        }\n\n        .session-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .session-header h3 {\n          margin: 0;\n          font-size: 20px;\n          font-weight: 700;\n        }\n\n        .session-status {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .status {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 14px;\n          font-weight: 600;\n        }\n\n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-dot.active {\n          background-color: #4ade80;\n          box-shadow: 0 0 6px rgba(74, 222, 128, 0.6);\n        }\n\n        .status-dot.inactive {\n          background-color: #f87171;\n          box-shadow: 0 0 6px rgba(248, 113, 113, 0.6);\n        }\n\n        .session-info {\n          background: rgba(255, 255, 255, 0.1);\n          padding: 16px;\n          border-radius: 12px;\n          margin-bottom: 20px;\n        }\n\n        .remaining-time, .expiry-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .remaining-time:last-child, .expiry-info:last-child {\n          margin-bottom: 0;\n        }\n\n        .label {\n          font-weight: 600;\n          font-size: 14px;\n        }\n\n        .time {\n          font-family: 'Courier New', monospace;\n          font-weight: 700;\n          font-size: 16px;\n          color: #fbbf24;\n        }\n\n        .session-actions {\n          margin-bottom: 20px;\n        }\n\n        .start-session-btn {\n          width: 100%;\n          padding: 12px 24px;\n          background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);\n          color: white;\n          border: none;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 700;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n\n        .start-session-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(74, 222, 128, 0.3);\n        }\n\n        .start-session-btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .session-active-message {\n          text-align: center;\n          padding: 16px;\n          background: rgba(74, 222, 128, 0.2);\n          border: 2px solid rgba(74, 222, 128, 0.3);\n          border-radius: 12px;\n          font-weight: 700;\n          font-size: 16px;\n        }\n\n        .error-message, .success-message {\n          padding: 12px 16px;\n          border-radius: 8px;\n          margin-bottom: 16px;\n          font-weight: 600;\n        }\n\n        .error-message {\n          background: rgba(248, 113, 113, 0.2);\n          border: 1px solid rgba(248, 113, 113, 0.3);\n          color: #fecaca;\n        }\n\n        .success-message {\n          background: rgba(74, 222, 128, 0.2);\n          border: 1px solid rgba(74, 222, 128, 0.3);\n          color: #dcfce7;\n        }\n\n        .session-description {\n          background: rgba(255, 255, 255, 0.1);\n          padding: 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          line-height: 1.6;\n        }\n\n        .session-description p {\n          margin: 0;\n        }\n\n        .session-description strong {\n          color: #fbbf24;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default GasSessionManager; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,SAASC,gBAAgB,EAAEC,eAAe,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQrE,MAAMC,iBAAmD,GAAGA,CAAC;EAC3DC,WAAW;EACXC,QAAQ;EACRC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGZ,QAAQ,CAGxC,IAAI,CAAC;EACf,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAS,EAAE,CAAC;EAC9D,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAS,EAAE,CAAC;;EAElD;EACA,MAAMqB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMpB,gBAAgB,CAACK,WAAW,CAAC;MAClDK,gBAAgB,CAACU,MAAM,CAAC;IAC1B,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdM,OAAO,CAACN,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC;;EAED;EACA,MAAMO,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI,CAACf,MAAM,EAAE;MACXS,QAAQ,CAAC,oBAAoB,CAAC;MAC9B;IACF;IAEAF,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MACF,MAAMK,EAAE,GAAG,MAAMtB,eAAe,CAACI,WAAW,EAAE,GAAG,EAAEE,MAAM,CAAC,CAAC,CAAC;MAC5D,MAAMgB,EAAE,CAACC,IAAI,CAAC,CAAC;MAEfN,UAAU,CAAC,sCAAsC,CAAC;;MAElD;MACA,MAAMC,kBAAkB,CAAC,CAAC;IAC5B,CAAC,CAAC,OAAOJ,KAAU,EAAE;MACnBM,OAAO,CAACN,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtCC,QAAQ,CAACD,KAAK,CAACU,OAAO,IAAI,eAAe,CAAC;IAC5C,CAAC,SAAS;MACRX,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAMY,sBAAsB,GAAGA,CAAA,KAAM;IACnC,IAAI,CAACjB,aAAa,IAAI,CAACA,aAAa,CAACkB,QAAQ,EAAE;MAC7Cf,gBAAgB,CAAC,EAAE,CAAC;MACpB;IACF;IAEA,MAAMgB,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;IACzC,MAAMI,SAAS,GAAGvB,aAAa,CAACwB,UAAU,GAAGL,GAAG;IAEhD,IAAII,SAAS,IAAI,CAAC,EAAE;MAClBpB,gBAAgB,CAAC,KAAK,CAAC;MACvBF,gBAAgB,CAAC;QAAE,GAAGD,aAAa;QAAEkB,QAAQ,EAAE;MAAM,CAAC,CAAC;MACvD;IACF;IAEA,MAAMO,OAAO,GAAGL,IAAI,CAACC,KAAK,CAACE,SAAS,GAAG,EAAE,CAAC;IAC1C,MAAMG,OAAO,GAAGH,SAAS,GAAG,EAAE;IAC9BpB,gBAAgB,CAAC,GAAGsB,OAAO,IAAIC,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;EACvE,CAAC;;EAED;EACAtC,SAAS,CAAC,MAAM;IACd,IAAIU,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEkB,QAAQ,EAAE;MAC3BD,sBAAsB,CAAC,CAAC;MACxB,MAAMY,QAAQ,GAAGC,WAAW,CAACb,sBAAsB,EAAE,IAAI,CAAC;MAC1D,OAAO,MAAMc,aAAa,CAACF,QAAQ,CAAC;IACtC;EACF,CAAC,EAAE,CAAC7B,aAAa,CAAC,CAAC;;EAEnB;EACAV,SAAS,CAAC,MAAM;IACdoB,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,CAACd,WAAW,CAAC,CAAC;EAEjB,oBACEF,OAAA;IAAKsC,SAAS,EAAC,qBAAqB;IAAAC,QAAA,gBAClCvC,OAAA;MAAKsC,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BvC,OAAA;QAAAuC,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzB3C,OAAA;QAAKsC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5BjC,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEkB,QAAQ,gBACtBxB,OAAA;UAAKsC,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BvC,OAAA;YAAKsC,SAAS,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzC3C,OAAA;YAAAuC,QAAA,EAAM;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC,gBAEN3C,OAAA;UAAKsC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BvC,OAAA;YAAKsC,SAAS,EAAC;UAAqB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3C3C,OAAA;YAAAuC,QAAA,EAAM;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEL,CAAArC,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEkB,QAAQ,kBACtBxB,OAAA;MAAKsC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BvC,OAAA;QAAKsC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BvC,OAAA;UAAMsC,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACpC3C,OAAA;UAAMsC,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAE/B;QAAa;UAAAgC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,eACN3C,OAAA;QAAKsC,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BvC,OAAA;UAAMsC,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACpC3C,OAAA;UAAMsC,SAAS,EAAC,MAAM;UAAAC,QAAA,EACnB,IAAIX,IAAI,CAACtB,aAAa,CAACwB,UAAU,GAAG,IAAI,CAAC,CAACc,cAAc,CAAC;QAAC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAED3C,OAAA;MAAKsC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAC7B,EAACjC,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEkB,QAAQ,iBACvBxB,OAAA;QACE6C,OAAO,EAAE1B,kBAAmB;QAC5B2B,QAAQ,EAAEpC,SAAS,IAAI,CAACN,MAAO;QAC/BkC,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAE5B7B,SAAS,GAAG,QAAQ,GAAG;MAAiB;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,gBAET3C,OAAA;QAAKsC,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAExC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAEL/B,KAAK,iBACJZ,OAAA;MAAKsC,SAAS,EAAC,eAAe;MAAAC,QAAA,GAAC,SAC3B,EAAC3B,KAAK;IAAA;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN,EAEA7B,OAAO,iBACNd,OAAA;MAAKsC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,GAAC,SAC7B,EAACzB,OAAO;IAAA;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CACN,eAED3C,OAAA;MAAKsC,SAAS,EAAC,qBAAqB;MAAAC,QAAA,eAClCvC,OAAA;QAAAuC,QAAA,gBACEvC,OAAA;UAAAuC,QAAA,EAAQ;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAAA3C,OAAA;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,kPAGxC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAEN3C,OAAA;MAAO+C,GAAG;MAAAR,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACtC,EAAA,CAzTIJ,iBAAmD;AAAA+C,EAAA,GAAnD/C,iBAAmD;AA2TzD,eAAeA,iBAAiB;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}